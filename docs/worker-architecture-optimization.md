# Worker æ¶æ„ä¼˜åŒ–æ€»ç»“

## ğŸ“‹ ä¼˜åŒ–ç›®æ ‡

å°†æ‰€æœ‰èŠ‚ç‚¹æ‰§è¡Œé€»è¾‘ç»Ÿä¸€è¿ç§»åˆ° Web Workerï¼Œæ¶ˆé™¤ä¸»çº¿ç¨‹å’Œ Worker ä¹‹é—´çš„é‡å¤ä»£ç ã€‚

## ğŸ¯ æ ¸å¿ƒåŸåˆ™

**èŒè´£å•ä¸€**ï¼šWorker è´Ÿè´£æ‰§è¡Œï¼Œä¸»çº¿ç¨‹è´Ÿè´£ UI

## ğŸ“¦ æ¶æ„åˆ’åˆ†

### Worker (`workflowWorker.ts`)

**èŒè´£ï¼š**

- âœ… åˆå§‹åŒ–èŠ‚ç‚¹æ³¨å†Œè¡¨ï¼ˆ`CoreNodeRegistry` + `BrowserNodeRegistry`ï¼‰
- âœ… æå–èŠ‚ç‚¹å…ƒæ•°æ®å¹¶å‘é€åˆ°ä¸»çº¿ç¨‹
- âœ… æ‰§è¡Œå®Œæ•´å·¥ä½œæµ
- âœ… ç®¡ç†èŠ‚ç‚¹å®ä¾‹å’Œå·¥å‚å‡½æ•°
- ğŸš§ æ‰§è¡Œå•èŠ‚ç‚¹ï¼ˆå¾…å®ç°ï¼‰

**ä¸åšï¼š**

- âŒ ä¸å¤„ç† UI ç›¸å…³é€»è¾‘
- âŒ ä¸ç®¡ç† Vue å“åº”å¼çŠ¶æ€

---

### ä¸»çº¿ç¨‹ (`useNodeRegistry.ts`)

**èŒè´£ï¼š**

- âœ… æ¥æ”¶ Worker å‘æ¥çš„èŠ‚ç‚¹å…ƒæ•°æ®
- âœ… æä¾›å…ƒæ•°æ®æŸ¥è¯¢åŠŸèƒ½ï¼ˆæœç´¢ã€è¿‡æ»¤ã€åˆ†ç±»ï¼‰
- âœ… ç®¡ç†åŠ¨æ€æ³¨å†Œçš„èŠ‚ç‚¹å…ƒæ•°æ®

**ä¸åšï¼š**

- âŒ ä¸å†åˆå§‹åŒ–èŠ‚ç‚¹æ³¨å†Œè¡¨ï¼ˆå·²åˆ é™¤ï¼‰
- âŒ ä¸å†ç»´æŠ¤èŠ‚ç‚¹å®ä¾‹ï¼ˆå·²åˆ é™¤ï¼‰
- âŒ ä¸å†æ‰§è¡ŒèŠ‚ç‚¹ï¼ˆå·²åºŸå¼ƒï¼‰

**ç§»é™¤çš„ä»£ç ï¼š**

```typescript
// âŒ å·²åˆ é™¤
let localNodeRegistries: NodeRegistry[] | null = null;
const localNodeTypeMap = new Map<string, BaseNode>();
function ensureLocalRegistry() { ... }
function getNodeInstance(type: string) { ... }
export function getNodeByType(type: string) { ... }
```

---

### ä¸»çº¿ç¨‹ (`useNodeExecution.ts`)

**èŒè´£ï¼š**

- âœ… å‡†å¤‡å·¥ä½œæµæ•°æ®ï¼ˆnodes/edgesï¼‰
- âœ… è°ƒç”¨ Worker æ‰§è¡Œå·¥ä½œæµ
- âœ… ç®¡ç†æ‰§è¡ŒçŠ¶æ€

**ä¸åšï¼š**

- âŒ ä¸å†æœ¬åœ°æ‰§è¡ŒèŠ‚ç‚¹

**å·²åºŸå¼ƒçš„åŠŸèƒ½ï¼š**

```typescript
// âš ï¸  å·²åºŸå¼ƒï¼ˆç­‰å¾…é€šè¿‡ Worker å®ç°ï¼‰
async function executeNode(nodeId: string) {
  // æ˜¾ç¤ºé”™è¯¯æç¤ºï¼šå•èŠ‚ç‚¹æ‰§è¡ŒåŠŸèƒ½å·²è¿ç§»åˆ° Worker
}
```

---

## ğŸ”„ æ•°æ®æµå‘

### å·¥ä½œæµæ‰§è¡Œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ä¸»çº¿ç¨‹                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  NodeEditor.vue                                                 â”‚
â”‚      â†“                                                          â”‚
â”‚  store.executeWorkflow(workflowId)                             â”‚
â”‚      â†“                                                          â”‚
â”‚  useNodeExecution.executeWorkflow(workflowId)                  â”‚
â”‚      â”œâ”€ å‡†å¤‡æ•°æ®ï¼šnodes, edges                                  â”‚
â”‚      â””â”€ è°ƒç”¨ Worker â†“                                           â”‚
â”‚                                                                 â”‚
â”‚  useWorkflowExecutor.execute(workflowId, nodes, edges)         â”‚
â”‚      â””â”€ Worker.postMessage({ type: "EXECUTE_WORKFLOW" })       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Worker                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  onmessage({ type: "EXECUTE_WORKFLOW" })                       â”‚
â”‚      â†“                                                          â”‚
â”‚  executeWorkflowInWorker(executionId, workflowId, nodes, edges)â”‚
â”‚      â”œâ”€ ä½¿ç”¨ nodeFactory: getNodeByType                         â”‚
â”‚      â”œâ”€ åˆ›å»º emitterï¼ˆå‘é€äº‹ä»¶åˆ°ä¸»çº¿ç¨‹ï¼‰                         â”‚
â”‚      â””â”€ è°ƒç”¨ executeWorkflow(options)                           â”‚
â”‚                                                                 â”‚
â”‚  æ‰§è¡Œè¿‡ç¨‹ä¸­å‘é€äº‹ä»¶ â†“                                            â”‚
â”‚      â”œâ”€ WORKFLOW_STARTED                                        â”‚
â”‚      â”œâ”€ NODE_STATUS_CHANGED                                     â”‚
â”‚      â”œâ”€ EDGE_ACTIVATED                                          â”‚
â”‚      â””â”€ WORKFLOW_COMPLETED / WORKFLOW_ERROR                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ä¸»çº¿ç¨‹                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  useWorkflowWorker.onmessage({ type: "WORKFLOW_EVENT" })      â”‚
â”‚      â†“                                                          â”‚
â”‚  workflowEmitter.emit(eventType, eventData)                    â”‚
â”‚      â†“                                                          â”‚
â”‚  useWorkflowExecution ç›‘å¬äº‹ä»¶                                  â”‚
â”‚      â”œâ”€ updateNodeState(nodeId, status)                        â”‚
â”‚      â”œâ”€ updateActiveEdges(edgeId)                              â”‚
â”‚      â””â”€ æ›´æ–° UI æ˜¾ç¤º                                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### èŠ‚ç‚¹å…ƒæ•°æ®åŠ è½½æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Worker å¯åŠ¨                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  main.ts åˆ›å»º Worker                                            â”‚
â”‚      â†“                                                          â”‚
â”‚  Worker.postMessage({ type: "INIT" })                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Worker                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  onmessage({ type: "INIT" })                                   â”‚
â”‚      â†“                                                          â”‚
â”‚  initializeNodeRegistry()                                      â”‚
â”‚      â”œâ”€ new CoreNodeRegistry()                                 â”‚
â”‚      â”œâ”€ new BrowserNodeRegistry()                              â”‚
â”‚      â””â”€ æ”¶é›†æ‰€æœ‰èŠ‚ç‚¹åˆ° nodeTypeMap                              â”‚
â”‚                                                                 â”‚
â”‚  extractNodeMetadata()                                         â”‚
â”‚      â”œâ”€ éå†æ‰€æœ‰èŠ‚ç‚¹                                            â”‚
â”‚      â”œâ”€ è°ƒç”¨ node.createNodeData()                             â”‚
â”‚      â””â”€ æå–ï¼štype, label, description, category, etc.        â”‚
â”‚                                                                 â”‚
â”‚  Worker.postMessage({ type: "INITIALIZED", nodeMetadata })     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ä¸»çº¿ç¨‹                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  useWorkflowWorker.onmessage({ type: "INITIALIZED" })         â”‚
â”‚      â†“                                                          â”‚
â”‚  nodeMetadata.value = payload.nodeMetadata                     â”‚
â”‚  isWorkerReady.value = true                                    â”‚
â”‚                                                                 â”‚
â”‚  useNodeRegistry æ¥æ”¶å…ƒæ•°æ®                                     â”‚
â”‚      â”œâ”€ state.metadataMap.set(node.type, metadata)            â”‚
â”‚      â””â”€ ç”¨äº UI æ˜¾ç¤ºèŠ‚ç‚¹åˆ—è¡¨                                    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ ä¼˜åŒ–æˆæœ

### âœ… æ¶ˆé™¤çš„é‡å¤ä»£ç 

1. **èŠ‚ç‚¹æ³¨å†Œè¡¨åˆå§‹åŒ–**

   - ä¹‹å‰ï¼šWorker å’Œä¸»çº¿ç¨‹å„åˆå§‹åŒ–ä¸€æ¬¡
   - ç°åœ¨ï¼šåªåœ¨ Worker ä¸­åˆå§‹åŒ–

2. **èŠ‚ç‚¹å…ƒæ•°æ®æå–**

   - ä¹‹å‰ï¼šWorker å’Œä¸»çº¿ç¨‹å„æå–ä¸€æ¬¡
   - ç°åœ¨ï¼šWorker æå–åå‘é€ç»™ä¸»çº¿ç¨‹

3. **èŠ‚ç‚¹å®ä¾‹ç®¡ç†**
   - ä¹‹å‰ï¼šWorker å’Œä¸»çº¿ç¨‹å„ç»´æŠ¤ä¸€ä»½
   - ç°åœ¨ï¼šåªåœ¨ Worker ä¸­ç»´æŠ¤

### ğŸ“‰ ä»£ç é‡å‡å°‘

| æ–‡ä»¶                  | ä¼˜åŒ–å‰  | ä¼˜åŒ–å  | å‡å°‘       |
| --------------------- | ------- | ------- | ---------- |
| `useNodeRegistry.ts`  | ~400 è¡Œ | ~330 è¡Œ | **-70 è¡Œ** |
| `useNodeExecution.ts` | ~390 è¡Œ | ~310 è¡Œ | **-80 è¡Œ** |

### âš¡ æ€§èƒ½æå‡

- **å¯åŠ¨é€Ÿåº¦**ï¼šå‡å°‘ä¸»çº¿ç¨‹åˆå§‹åŒ–æ—¶é—´
- **å†…å­˜å ç”¨**ï¼šé¿å…é‡å¤ç»´æŠ¤èŠ‚ç‚¹å®ä¾‹
- **å¯ç»´æŠ¤æ€§**ï¼šå•ä¸€æ•°æ®æºï¼Œé¿å…åŒæ­¥é—®é¢˜

---

## ğŸš§ å¾…å®ç°åŠŸèƒ½

### å•èŠ‚ç‚¹æ‰§è¡Œï¼ˆé€šè¿‡ Workerï¼‰

**å½“å‰çŠ¶æ€ï¼š** å·²åºŸå¼ƒä¸»çº¿ç¨‹å®ç°ï¼Œç­‰å¾… Worker å®ç°

**å®ç°æ­¥éª¤ï¼š**

1. **åœ¨ `workflowWorker.ts` ä¸­æ·»åŠ æ¶ˆæ¯ç±»å‹**

   ```typescript
   type WorkerMessageFromMain =
     | { type: "EXECUTE_SINGLE_NODE"; payload: {
         executionId: string;
         nodeId: string;
         nodeType: string;
         config: Record<string, any>;
         inputs: Record<string, any>;
       }}
     | ...
   ```

2. **æ·»åŠ æ‰§è¡Œå‡½æ•°**

   ```typescript
   async function executeSingleNodeInWorker(
     executionId: string,
     nodeId: string,
     nodeType: string,
     config: Record<string, any>,
     inputs: Record<string, any>
   ) {
     const nodeClass = getNodeByType(nodeType);
     const result = await nodeClass.run(config, inputs, {});
     self.postMessage({
       type: "NODE_EXECUTION_RESULT",
       payload: { executionId, nodeId, result },
     });
   }
   ```

3. **åœ¨ `useWorkflowWorker.ts` ä¸­æ·»åŠ æ–¹æ³•**

   ```typescript
   function executeSingleNode(...) {
     worker.postMessage({
       type: "EXECUTE_SINGLE_NODE",
       payload: { ... }
     });
   }
   ```

4. **æ›´æ–° `useNodeExecution.ts`**
   ```typescript
   async function executeNode(nodeId: string) {
     const worker = useWorkflowWorker();
     worker.executeSingleNode(...);
   }
   ```

---

## ğŸ“ ä½¿ç”¨æ³¨æ„äº‹é¡¹

### 1. å…ƒæ•°æ®æŸ¥è¯¢

```typescript
// âœ… æ­£ç¡®ï¼šä» Worker åŠ è½½çš„å…ƒæ•°æ®
const registry = useNodeRegistry();
const metadata = registry.getNodeMetadata("httpRequest");
```

### 2. å·¥ä½œæµæ‰§è¡Œ

```typescript
// âœ… æ­£ç¡®ï¼šé€šè¿‡ Worker æ‰§è¡Œ
const store = useNodeEditorStore();
await store.executeWorkflow(workflowId);
```

### 3. å•èŠ‚ç‚¹æ‰§è¡Œ

```typescript
// âš ï¸  å½“å‰ï¼šåŠŸèƒ½å·²åºŸå¼ƒ
const store = useNodeEditorStore();
await store.executeNode(nodeId); // ä¼šæ˜¾ç¤ºé”™è¯¯æç¤º

// ğŸš§ æœªæ¥ï¼šé€šè¿‡ Worker æ‰§è¡Œ
await store.executeNode(nodeId); // å¾…å®ç°
```

---

## ğŸ” è°ƒè¯•å·¥å…·

### æ£€æŸ¥ Worker çŠ¶æ€

```typescript
const worker = useWorkflowWorker();
console.log("Worker å°±ç»ª:", worker.isReady.value);
console.log("èŠ‚ç‚¹å…ƒæ•°æ®:", worker.nodeMetadata.value);
```

### æ£€æŸ¥å…ƒæ•°æ®åŠ è½½

```typescript
const registry = useNodeRegistry();
console.log("å…ƒæ•°æ®æ•°é‡:", registry.getAllNodeMetadata.value.length);
console.log("èŠ‚ç‚¹åˆ†ç±»:", registry.getNodesByCategory.value);
```

### æ£€æŸ¥æ‰§è¡ŒçŠ¶æ€

```typescript
const execution = useWorkflowExecution(workflowId);
console.log("æ´»è·ƒæ‰§è¡Œ:", execution.activeExecutionId.value);
console.log("èŠ‚ç‚¹çŠ¶æ€:", execution.getNodeStates(executionId));
```

---

## âœ… æ€»ç»“

é€šè¿‡æ­¤æ¬¡ä¼˜åŒ–ï¼š

1. **èŒè´£æ¸…æ™°**ï¼šWorker æ‰§è¡Œï¼Œä¸»çº¿ç¨‹ UI
2. **æ¶ˆé™¤é‡å¤**ï¼šå•ä¸€æ•°æ®æºï¼Œé¿å…åŒæ­¥é—®é¢˜
3. **æ€§èƒ½æå‡**ï¼šå‡å°‘åˆå§‹åŒ–æ—¶é—´å’Œå†…å­˜å ç”¨
4. **æ˜“äºç»´æŠ¤**ï¼šä»£ç ç»“æ„æ›´æ¸…æ™°ï¼Œé€»è¾‘æ›´ç®€å•

ä¸‹ä¸€æ­¥å¯ä»¥è€ƒè™‘å®ç°å•èŠ‚ç‚¹æ‰§è¡Œçš„ Worker æ”¯æŒï¼Œè¿›ä¸€æ­¥å®Œå–„æ•´ä¸ªæ¶æ„ã€‚

