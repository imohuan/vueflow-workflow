# 即梦 AI 浏览器自动化操作指南

## ⚠️ 重要约束条件

**必须使用 streamable-mcp-server MCP 工具进行操作，严格禁止以下行为：**

- ❌ 禁止使用 `document.documentElement.outerHTML` 或类似方式获取整个网页源码
- ❌ 禁止一次性读取大量 HTML 内容
- ✅ 必须使用精确的 CSS Selector 选择器定位目标元素
- ✅ 必须通过选择器操作特定元素，避免上下文溢出

**原因说明：** 直接获取整个页面 HTML 会导致上下文迅速拉满，消耗大量 token，且无法有效实现自动化操作。

---

## 操作步骤

### 1. 访问目标页面

```
URL: https://jimeng.jianying.com/ai-tool/generate
```

### 2. 核心元素定位

**主操作区域选择器：**

```css
#dreamina-ui-configuration-content-wrapper
  div[class^="entry-"]
  div[class^="dimension-layout-"];
```

### 3. 执行操作流程

#### 3.1 选择工作模式

- 使用选择器定位模式切换元素（Agent / 图片生成 / 视频生成）
- 默认选择：**Agent 模式**

#### 3.2 输入提示词

- 定位输入框元素（textarea 或 input）
- 输入对应的提示词内容

#### 3.3 上传参考文件（可选）

- 定位文件上传元素（input[type="file"]）
- 上传参考图片/视频/音频

#### 3.4 提交任务

- 定位提交按钮元素（button）
- 点击提交

---

## 模式详细说明

### 🤖 Agent 模式

- **功能：** 支持多张参考图，执行复杂的 AI 任务
- **提示词类型：** 任务描述型（描述你想做什么），**非**图片生成提示词
- **示例：** "帮我分析这张图片的设计风格并生成相似的设计"

### 🖼️ 图片生成模式

- **功能：** AI 图片生成
- **支持选项：**
  - 上传多张参考图片
  - 选择图片生成模型
  - 切换图片比例
  - 切换高清选项（⚠️ 部分功能需付费）
  - 文字增强效果（对目标文字使用 **双引号** 包裹）

### 🎬 视频生成模式

- **功能：** AI 视频生成
- **支持选项：**
  - 选择视频模型
  - 生成方式：首尾帧 / 智能多帧 / 主体参考
  - 切换视频比例
  - 切换高清选项（⚠️ 部分功能需付费）
  - 运镜设置：默认为"无"

---

## 💡 最佳实践

1. **始终使用精确选择器**：优先使用 ID、class、data-\* 属性定位
2. **分步操作**：不要一次性操作过多元素
3. **验证元素存在**：操作前先确认元素已加载
4. **等待页面响应**：提交后等待必要的加载时间
5. **错误处理**：如果选择器失效，尝试使用更通用的选择器或父级元素
